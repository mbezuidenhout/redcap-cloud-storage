{
  "name": "CloudStorage",
  "namespace": "Stanford\\CloudStorage",
  "description": "Allow file storage from REDCap projects to Google Cloud or Microsoft Azure",
  "compatibility": {
    "php-version-min": "5.6.0",
    "php-version-max": "",
    "redcap-version-min": "11.0.0",
    "redcap-version-max": ""
  },
  "versions": [
    {
      "0.0.1": "Initial",
      "0.1.0": "Added Azure support"
    }
  ],
  "authors": [
    {
      "name": "Andrew Martin",
      "email": "andy123@stanford.edu",
      "institution": "Stanford University"
    },
    {
      "name": "Lee Ann Yasukawa",
      "email": "yasukawa@stanfordhealthcare.org",
      "institution": "Stanford Health Care"
    },
    {
      "name": "Ihab Zeedia",
      "email": "izeedia@stanfordhealthcare.org",
      "institution": "Stanford Health Care"
    },
    {
      "name": "Marius Bezuidenhout",
      "email": "marius.bezuidenhout@gmail.com",
      "institution": "N/A"
    }
  ],
  "permissions": [
    "redcap_every_page_top"
  ],
  "links": {
    "control-center": [
    ],
    "project": []
  },
  "no-auth-pages": [
    "src/test"
  ],
  "system-settings": [
    {
      "key": "enable-system-debug-logging",
      "name": "<b>Enable Debug Logging</b><br>If you have the Stanford emLogger external module installed and configured, you can enable additional debug-level logging through this checkbox</b>",
      "required": false,
      "type": "checkbox"
    }
  ],
  "project-settings": [
    {
      "key": "azure-enabled",
      "name": "Enable Azure support",
      "type": "checkbox"
    },
    {
      "key": "azure-account-name",
      "name": "<h5>Azure Account Name</h5>",
      "required": true,
      "type": "text",
      "branchingLogic": {
        "field": "azure-enabled",
        "value": "true"
      }
    },
    {
      "key": "azure-account-key",
      "name": "<h5>Azure Account Key</h5>",
      "required": true,
      "type": "text",
      "branchingLogic": {
        "field": "azure-enabled",
        "value": "true"
      }
    },
    {
      "key": "azure-sandbox",
      "name": "Azure test mode (Azurite)",
      "type": "checkbox",
      "branchingLogic": {
        "field": "azure-enabled",
        "value": "true"
      }
    },
    {
      "key": "azure-sandbox-endpoint",
      "name": "Azurite server endpoint",
      "type": "text",
      "branchingLogic": {
        "conditions": [
          {
            "field": "azure-enabled",
            "value": "true"
          },
          {
            "field": "azure-sandbox",
            "value": "true"
          }
        ]
      }
    },
    {
      "key": "azure-browser-endpoint",
      "name": "Azurite browser endpoint",
      "type": "text",
      "branchingLogic": {
        "conditions": [
          {
            "field": "azure-enabled",
            "value": "true"
          },
          {
            "field": "azure-sandbox",
            "value": "true"
          }
        ]
      }
    },
    {
      "key": "azure-test-connection",
      "name": "Azure connection",
      "type": "button",
      "url":
      {
        "name": "Test",
        "value": "azureTestConnectionPage.php"
      },
      "branchingLogic": {
        "field": "azure-enabled",
        "value": "true"
      }
    },
    {
      "key": "google-enabled",
      "name": "Enable Google Storage support",
      "type": "checkbox"
    },
    {
      "key": "google-project-id",
      "name": "<h5>Google Storage Project ID</h5>",
      "required": true,
      "type": "text",
      "branchingLogic": {
        "field": "google-enabled",
        "value": "true"
      }
    },
    {
      "key": "google-api-token",
      "name": "<h5>Google Storage API Service Account</h5>",
      "required": true,
      "type": "textarea",
      "branchingLogic": {
        "field": "google-enabled",
        "value": "true"
      }
    },
    {
      "key": "google-test-connection",
      "name": "Google cloud platform connection",
      "type": "button",
      "url":
      {
        "name": "Test",
        "value": "googleTestConnectionPage.php"
      },
      "branchingLogic": {
        "field": "google-enabled",
        "value": "true"
      }
    },
    {
      "key": "disable-file-link",
      "name": "<b>Do not display link for uploaded file.</b>",
      "required": false,
      "type": "checkbox"
    },
    {
      "key": "disable-auto-save",
      "name": "<b>Prevent Auto-Save when file is uploaded.</b>",
      "required": false,
      "type": "checkbox"
    },
    {
      "key": "enable-project-debug-logging",
      "name": "<b>Enable Debug Logging</b>",
      "required": false,
      "type": "checkbox"
    }
  ]
}
